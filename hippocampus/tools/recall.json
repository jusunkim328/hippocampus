{
  "id": "hippocampus-recall",
  "type": "esql",
  "description": "Trust Gate STEP 1의 필수 도구. 사용자 질문에 답변하기 전 반드시 이 도구를 hippocampus-blindspot-targeted와 동시에 호출하세요. 조직의 과거 경험(episodic-memories)과 구조화된 지식(semantic-memories)을 시맨틱 검색하여 상위 5건을 반환합니다. LOOKUP JOIN으로 각 결과의 도메인 밀도(density, density_status)도 함께 반환합니다. 반환 결과의 건수와 날짜로 Experience Grade(A/B/C/D)를 판정합니다. query에 핵심 엔티티를 포함하고 기술 용어 2-3개를 추가하세요.",
  "tags": ["hippocampus", "memory", "recall"],
  "configuration": {
    "query": "FROM episodic-memories, semantic-memories METADATA _score, _index | WHERE MATCH(content, ?query) | SORT _score DESC | LIMIT 5 | EVAL memory_date = COALESCE(timestamp, last_updated) | EVAL domain = category | LOOKUP JOIN knowledge-domains ON domain | EVAL density = memory_count * avg_confidence, density_status = CASE(density < 1.0, \"VOID\", density < 5.0, \"SPARSE\", \"DENSE\") | KEEP content, category, memory_date, _score, _index, entity, attribute, value, density, density_status, memory_count, external_refs",
    "params": {
      "query": {
        "type": "text",
        "description": "검색할 자연어 쿼리. 핵심 엔티티를 앞부분에 포함하고 관련 기술 용어를 2-3개 추가. 15단어 이내. 예: 'Redis cache-server 캐시 지연 latency eviction'"
      }
    }
  }
}
