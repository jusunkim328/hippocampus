{
  "id": "hippocampus-recall",
  "type": "esql",
  "description": "Trust Gate STEP 1 required tool. MUST call this tool simultaneously with hippocampus-blindspot-targeted before answering any user question. Performs semantic search across organizational past experience (episodic-memories) and structured knowledge (semantic-memories), returning top 5 results. LOOKUP JOIN enriches each result with domain density (density, density_status). Use the count and dates of returned results to assess Experience Grade (A/B/C/D). Include key entities in the query and add 2-3 related technical terms.",
  "tags": ["hippocampus", "memory", "recall"],
  "configuration": {
    "query": "FROM episodic-memories, semantic-memories METADATA _score, _index | WHERE MATCH(content, ?query) | SORT _score DESC | LIMIT 5 | EVAL memory_date = COALESCE(timestamp, last_updated) | EVAL domain = category | LOOKUP JOIN knowledge-domains ON domain | EVAL density = memory_count * avg_confidence, density_status = CASE(density < 1.0, \"VOID\", density < 5.0, \"SPARSE\", \"DENSE\") | KEEP content, category, memory_date, _score, _index, entity, attribute, value, density, density_status, memory_count, external_refs",
    "params": {
      "query": {
        "type": "text",
        "description": "Natural language search query. Include key entity at the beginning and add 2-3 related technical terms. Keep under 15 words. Example: 'Redis cache-server latency eviction policy'"
      }
    }
  }
}
